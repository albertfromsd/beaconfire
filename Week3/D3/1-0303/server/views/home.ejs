<%# Path is relative to this template. Specify variables to pass into the partial %>
<%- include("partials/header.ejs", {title:"Home"}); %>

<%# Stylesheets only used by this template %>
<link rel="stylesheet" href="/public/styles/home.css">

<main>
  <div>
<h3>
  <%  if( message != null ) { %> 
    <%= message %>
  <% } else { %> 
    &nbsp;
  <% } %> 

</h3>
    

    <%- include("partials/todoForm.ejs") %>

    <table>
      <thead>
        <caption>Todo List</caption>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Priority</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="todolist-body">
        <% todoList.forEach(( {title, description, priority, status}, idx )=> { %>
          <%- include("partials/todoItem.ejs", { title, description, priority, status, idx }) %>
          <% }) %>
      </tbody>
    </table>

    <hr>
    <%# ------------------------------------------------------------------------------ %>
    <%# Mixing JS logic into the template %>


  <%- include("partials/sidebar.ejs"); %>
</main>

<script src="../utils/deleteRow.js" type="text/javascript"></script>
<script src="/public/scripts/home.js"></script>
<%- include("partials/footer.ejs"); %>